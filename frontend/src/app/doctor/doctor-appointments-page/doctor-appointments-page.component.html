<!-- <section class="loading" *ngIf="isLoading">
    <mat-spinner></mat-spinner>
  </section> -->
<main class="main-wrapper">
  <header class="header">
    <h1 class="title">Dashboard</h1>
    <div class="logo">LOGO</div>
  </header>
  <div *ngIf="dataSource.length > 0" class="table-wrapper">
    <table
      class="table"
      mat-table
      [dataSource]="dataSource"
      class="mat-elevation-z8 demo-table"
    >
      <ng-container matColumnDef="patient">
        <th mat-header-cell *matHeaderCellDef>Patient</th>
        <td mat-cell *matCellDef="let element">
          {{ element.patient.firstName + " " + element.patient.lastName }}
        </td>
      </ng-container>

      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>Email</th>
        <td mat-cell *matCellDef="let element">
          {{ element.patient.email }}
        </td>
      </ng-container>

      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef>Date</th>
        <td mat-cell *matCellDef="let element">
          {{ element.date | date : "dd-MMM-yyyy" }}
        </td>
      </ng-container>

      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>Description</th>
        <td mat-cell *matCellDef="let element">
          {{
            element.description.length > 6
              ? (element.description | slice : 0 : 15) + "..."
              : element.description
          }}
        </td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Status</th>
        <td mat-cell *matCellDef="let element">
          {{ element.status.length == 0 ? "Pending" : element.status }}
        </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let element">
          <button
            mat-icon-button
            #tooltip="matTooltip"
            matTooltip="Cancel"
            matTooltipPosition="after"
            (click)="onCancelBtnClick(element.id, element)"
          >
            <mat-icon>cancel</mat-icon>
          </button>
          <button
            mat-icon-button
            #tooltip="matTooltip"
            matTooltip="Approve"
            matTooltipPosition="after"
            (click)="onApproveBtnClick(element.id, element)"
          >
            <mat-icon>checkmark</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
  <div *ngIf="dataSource.length == 0">
    <hr />
    You don't have any appointments yet.
  </div>
</main>
